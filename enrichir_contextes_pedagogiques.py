#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Enrichit les contextes culturels pour qu'ils contiennent EXPLICITEMENT
toutes les informations n√©cessaires pour r√©pondre au quiz.

Principe p√©dagogique : ENSEIGNER puis TESTER, pas l'inverse !
"""

import json

# Contextes enrichis pour les inscriptions qui manquent d'info
CONTEXTES_ENRICHIS = {
    "oeil_oudjat": """üîç **L'≈íIL OUDJAT - AMULETTE SUPR√äME DE PROTECTION**

**Signification du nom :**
Le mot "Oudjat" (w·∏èÍú£t) signifie litt√©ralement "**intact, complet, en bonne sant√©**". C'est l'oppos√© de "bless√©" ou "endommag√©".

**La l√©gende mythologique :**
L'≈íil Oudjat est li√© au mythe d'Horus et Seth :
1. **Le combat** : Horus combattit Seth pour venger son p√®re Osiris
2. **La blessure** : Seth arracha l'≈ìil gauche d'Horus pendant le combat
3. **La gu√©rison** : **Thot**, dieu de la magie et de la sagesse, restaura magiquement l'≈ìil
4. **La compl√©tude** : L'≈ìil devint "Oudjat" - intact et complet √† nouveau

**Les fonctions de l'≈íil Oudjat :**
- **Protection magique** : Principale fonction - prot√®ge contre le mal, les maladies, la malchance
- **Gu√©rison** : Symbolise la restauration et la r√©g√©n√©ration
- **Compl√©tude** : Repr√©sente l'int√©grit√© retrouv√©e
- **Vision divine** : L'≈ìil qui voit tout et prot√®ge

**Anatomie symbolique :**
L'≈íil Oudjat se compose de plusieurs √©l√©ments distinctifs :
- Le **sourcil** arqu√© au-dessus
- La **pupille** centrale (l'≈ìil lui-m√™me)
- La **larme** ou marque sous l'≈ìil
- La **spirale** (marque du faucon, animal d'Horus)

**Utilisation pratique :**
Les √âgyptiens portaient des amulettes Oudjat pour se prot√©ger dans la vie et dans la mort. On les pla√ßait sur les momies, dans les tombes, et on les portait en bijoux.""",

    "amon_roi_dieux": """üî± **AMON - LE ROI DES DIEUX**

**Origine du nom :**
"Amon" (Imn) signifie "**le Cach√©**" en √©gyptien ancien. Ce nom refl√®te sa nature myst√©rieuse et invisible, comme le vent qu'on ne peut voir mais dont on ressent la pr√©sence.

**√âvolution historique :**
- **Moyen Empire** : Dieu local de Th√®bes (petite ville du sud)
- **Nouvel Empire** : Th√®bes devient capitale ‚Üí Amon devient le dieu supr√™me
- **Fusion divine** : Amon fusionne avec R√™ (dieu solaire) ‚Üí devient **Amon-R√™**, roi des dieux
- **Apog√©e** : XVIIIe dynastie - pharaons comme Hatchepsout et Thoutmosis III le v√©n√®rent

**Repr√©sentations iconographiques :**
Amon est repr√©sent√© de plusieurs fa√ßons :
- **Forme humaine** : Homme portant une haute couronne √† deux plumes d'autruche
- **Peau bleue** : Symbolise sa nature c√©leste et invisible (comme le ciel)
- **Barbe divine** : Barbe postiche recourb√©e (attribut des dieux)
- **Forme animale** : Parfois repr√©sent√© comme un **b√©lier** (animal sacr√© symbolisant la puissance g√©n√©ratrice)

**Pourquoi la peau bleue ?**
La couleur bleue symbolise :
- Le **ciel** et l'invisibilit√©
- Le caract√®re **primordial** et √©ternel
- La **transcendance** divine

**Les grands temples d'Amon :**
1. **Karnak** (Ipet-Sout) : Plus grand complexe religieux du monde antique
   - 200 hectares de superficie
   - 134 colonnes g√©antes dans la salle hypostyle
   - Construction sur 2000 ans
2. **Louxor** (Ipet-Resyt) : "Harem m√©ridional d'Amon"
   - Reli√© √† Karnak par l'all√©e des Sphinx (2,7 km)
   - Temple de la c√©l√©bration divine

**La F√™te d'Opet :**
C√©l√©bration annuelle majeure durant le 2√®me mois d'Akhet (saison de l'inondation) :
- **Dur√©e** : 11 jours sous Thoutmosis III, prolong√©e √† **27 jours** sous Rams√®s III
- **Procession** : Barque sacr√©e d'Amon transport√©e de Karnak √† Louxor
- **But** : R√©g√©n√©ration du ka royal (force vitale du pharaon)

**R√¥le politique :**
Les pr√™tres d'Amon devinrent extr√™mement puissants :
- Contr√¥laient d'immenses richesses
- Influen√ßaient les d√©cisions politiques
- Rivalisaient parfois avec le pharaon lui-m√™me""",

    "toutankhamon_cartouche": """üëë **TOUT√ÇNKHAMON - LE PHARAON LE PLUS C√âL√àBRE**

**Signification du nom :**
"Tout√¢nkhamon" (twt-Íú•n·∏´-imn) se d√©compose ainsi :
- **Tut** (twt) : Image, repr√©sentation vivante
- **Ankh** (Íú•n·∏´) : Vie
- **Amon** (imn) : Nom du dieu Amon

**Traduction compl√®te** : "Image vivante d'Amon" ou "Repr√©sentation vivante d'Amon"

**Changement de nom :**
√Ä sa naissance, il s'appelait "**Tout√¢nkhaton**" (image vivante d'Aton, le dieu-soleil unique)
- Son p√®re Akhenaton avait impos√© le culte exclusif d'Aton
- Vers 9 ans, le jeune pharaon change de nom pour "**Tout√¢nkhamon**"
- Ce changement marque le **retour aux dieux traditionnels**, notamment Amon

**Le cartouche royal :**
Un **cartouche** (shenu en √©gyptien) est un ovale allong√© entourant le nom du pharaon :
- Forme : Ovale avec une barre horizontale √† la base
- Symbolisme : Repr√©sente une corde nou√©e qui entoure et prot√®ge le nom
- Fonction : Le nom royal est sacr√© et doit √™tre prot√©g√© magiquement
- Lecture : Les hi√©roglyphes √† l'int√©rieur se lisent de droite √† gauche (ou de haut en bas)

**Structure du cartouche de Tout√¢nkhamon :**
Dans son cartouche, on trouve les hi√©roglyphes suivants (de droite √† gauche) :
1. **ìáãìè†ìàñ** (Imn) : Amon - le dieu cach√©
2. **ìãπ** (Íú•n·∏´) : Ankh - vie
3. **ìèèìÖ±ìèè** (twt) : Image vivante

**Vie et r√®gne :**
- **Dates** : Vers 1345-1327 avant J.-C. (XVIIIe dynastie)
- **√Çge de couronnement** : 9 ans environ
- **√Çge de mort** : 18-19 ans
- **Dur√©e du r√®gne** : ~10 ans
- **Contexte** : P√©riode de restauration apr√®s la r√©volution religieuse d'Akhenaton
- **Capitale** : Retour √† Memphis apr√®s Akhetaton (Amarna)

**La d√©couverte du tombeau (1922) :**
- **D√©couvreur** : Howard Carter (arch√©ologue britannique)
- **Localisation** : Vall√©e des Rois (KV62), Louxor
- **√âtat** : Quasi intact (seule tombe royale presque intacte d√©couverte)
- **Tr√©sors** : Plus de 5000 objets retrouv√©s
- **Masque fun√©raire** : 11 kg d'or massif, devenu ic√¥ne mondiale
- **Impact** : "Toutmania" - engouement mondial pour l'√âgypte antique

**Pourquoi est-il si c√©l√®bre ?**
Ironiquement, Tout√¢nkhamon √©tait un pharaon mineur de son vivant :
- R√®gne court
- Jeune √¢ge
- Pas de grandes conqu√™tes militaires
- Mais sa tombe intacte en a fait le pharaon le plus c√©l√®bre du XXe si√®cle !""",

    "ramses_nom": """‚öîÔ∏è **RAMS√àS II - LE GRAND PHARAON B√ÇTISSEUR**

**Signification du nom :**
"Rams√®s" (RÍú•-ms-sw) signifie litt√©ralement "**R√™ l'a engendr√©**" ou "**N√© de R√™**"
- **R√™** (RÍú•) : Le dieu solaire supr√™me
- **M√®s** (ms) : Engendrer, donner naissance
- **Sou** (sw) : Pronom le/lui

Le nom affirme donc la filiation divine du pharaon avec le dieu solaire.

**Cartouche royal :**
Le cartouche de Rams√®s II contient les hi√©roglyphes suivants :
- **ìá≥** : R√™ (le soleil)
- **ìÖììã¥** : M√®s (engendrer)
- **ìã¥** : Sou (lui)

**Identit√© compl√®te :**
- **Nom de naissance** : Rams√®s (Ra-msj-sw)
- **Nom de couronnement** : Ouserma√¢tr√™-Setepenr√™ ("Puissante est la justice de R√™, √âlu de R√™")
- **Dynastie** : XIXe dynastie
- **Dates de r√®gne** : ~1279-1213 avant J.-C.
- **Dur√©e** : **66-67 ans** - l'un des plus longs r√®gnes de l'histoire √©gyptienne
- **√Çge de mort** : 90-91 ans (exceptionnel pour l'√©poque)

**Pourquoi "le Grand" ?**
Rams√®s II m√©rite ce titre pour plusieurs raisons :

**1. B√¢tisseur monumental :**
- **Abou Simbel** : Deux temples monumentaux taill√©s dans la falaise
  - Grand temple : 4 colosses de 20m de haut √† son effigie
  - Petit temple : D√©di√© √† son √©pouse N√©fertari
- **Ramess√©um** : Son temple fun√©raire gigantesque √† Th√®bes
- **Pi-Rams√®s** : Nouvelle capitale dans le Delta du Nil
- **Modifications** : Agrandit Karnak, Louxor, et d'innombrables temples

**2. Guerrier redoutable :**
- **Bataille de Qadesh** (1274 av. J.-C.) : Affrontement √©pique contre les Hittites
  - Rams√®s pr√©tend √† une grande victoire
  - En r√©alit√© : bataille ind√©cise mais racont√©e partout
  - Propagande monumentale : r√©cit grav√© sur tous ses temples
- **Trait√© de paix** : Premier trait√© de paix de l'histoire (avec les Hittites)
- **Campagnes** : Nombreuses exp√©ditions en Nubie, Libye, Canaan

**3. Famille prolifique :**
- **√âpouses** : 8 √©pouses principales + nombreuses √©pouses secondaires
- **Enfants** : Plus de **100 enfants** (52 fils, 40+ filles document√©s)
- **√âpouse favorite** : N√©fertari ("La plus belle")
- **Succession** : Son 13e fils, Mineptah, lui succ√®de (les 12 premiers morts avant lui)

**4. Propagande et image :**
- **Colosses partout** : Statues gigantesques √† son effigie dans toute l'√âgypte
- **Usurpation** : Effa√ßait les noms d'autres pharaons pour graver le sien
- **Auto-divinisation** : Se repr√©sentait comme un dieu de son vivant

**Momie :**
- D√©couverte en 1881 dans la cachette de Deir el-Bahari
- √âtat de conservation : Excellent
- Caract√©ristiques : Cheveux roux/blonds, 1m75
- Actuellement au Mus√©e national de la civilisation √©gyptienne, Le Caire"""
}

def enrichir_inscription(inscription):
    """Enrichit une inscription si elle a un contexte enrichi pr√©d√©fini"""
    id_inscription = inscription['id']

    if id_inscription in CONTEXTES_ENRICHIS:
        inscription['contexte_culturel'] = CONTEXTES_ENRICHIS[id_inscription]
        return True

    return False

if __name__ == '__main__':
    print("üìö Enrichissement p√©dagogique des contextes culturels...\n")

    # Charger le JSON
    with open('inscriptions-temples.json', 'r', encoding='utf-8') as f:
        data = json.load(f)

    enrichies = 0

    # Enrichir chaque niveau
    for niveau in ['debutant', 'intermediaire', 'expert']:
        for inscription in data['hieroglyphes'][niveau]:
            if enrichir_inscription(inscription):
                enrichies += 1
                print(f"‚úì Enrichi : {inscription['titre']}")

    # Sauvegarder
    with open('inscriptions-temples.json', 'w', encoding='utf-8') as f:
        json.dump(data, f, ensure_ascii=False, indent=2)

    print(f"\n‚úÖ {enrichies} inscriptions enrichies avec contextes d√©taill√©s")
    print("   Principe : ENSEIGNER les r√©ponses AVANT le quiz !")
