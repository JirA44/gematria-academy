<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìÇÄ D√©cret de Canope</title>
    <link rel="stylesheet" href="force-dark-mode.css">
    <script src="progression-system.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 2rem;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            font-size: 1.1rem;
            margin-bottom: 2rem;
            opacity: 0.8;
        }

        .level-badge {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .level-debutant {
            background: rgba(76, 175, 80, 0.3);
            border: 2px solid #4caf50;
            color: #81c784;
        }

        .level-intermediaire {
            background: rgba(255, 152, 0, 0.3);
            border: 2px solid #ff9800;
            color: #ffb74d;
        }

        .level-expert {
            background: rgba(156, 39, 176, 0.3);
            border: 2px solid #9c27b0;
            color: #ce93d8;
        }

        .monument-card {
            background: rgba(25, 25, 40, 0.9);
            border: 2px solid rgba(100, 100, 150, 0.3);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .context-box {
            background: rgba(255, 243, 205, 0.1);
            border-left: 4px solid rgba(255, 193, 7, 0.7);
            padding: 1rem;
            margin-bottom: 2rem;
            border-radius: 5px;
        }

        .inscription-display {
            background: rgba(40, 40, 60, 0.7);
            padding: 2rem;
            border-radius: 10px;
            margin: 2rem 0;
            border: 2px solid rgba(196, 156, 98, 0.5);
        }

        .hieroglyphic-text {
            font-size: 3rem;
            text-align: center;
            margin: 2rem 0;
            line-height: 1.8;
            direction: rtl;
            letter-spacing: 0.5rem;
        }

        .word-by-word {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .word-block {
            background: rgba(30, 30, 45, 0.85);
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            border: 2px solid rgba(138, 43, 226, 0.3);
            transition: all 0.3s ease;
        }

        .word-block:hover {
            border-color: rgba(138, 43, 226, 0.6);
            transform: translateY(-5px);
        }

        .word-hieroglyph {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .word-pronunciation {
            font-size: 1.3rem;
            color: #ffa726;
            font-weight: bold;
            margin: 0.8rem 0;
            padding: 0.5rem;
            background: rgba(255, 167, 38, 0.1);
            border-radius: 5px;
        }

        .word-transliteration {
            font-size: 1.2rem;
            color: #64b5f6;
            margin: 0.5rem 0;
            font-style: italic;
        }

        .word-translation {
            font-size: 1.1rem;
            color: #81c784;
            font-weight: bold;
            margin: 0.5rem 0;
        }

        .word-explanation {
            font-size: 0.9rem;
            color: #b0b0c0;
            margin-top: 0.5rem;
        }

        .translation-box {
            background: rgba(76, 175, 80, 0.1);
            border: 2px solid rgba(76, 175, 80, 0.3);
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 2rem;
        }

        .translation-title {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: #81c784;
        }

        .btn {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            border-radius: 25px;
            cursor: pointer;
            margin: 0.5rem;
            transition: transform 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-3px);
        }

        .hidden {
            display: none;
        }

        .hint-box {
            background: rgba(100, 150, 255, 0.1);
            border-left: 4px solid rgba(100, 150, 255, 0.7);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 5px;
        }

        .exercise-box {
            background: rgba(138, 43, 226, 0.1);
            border: 2px dashed rgba(138, 43, 226, 0.5);
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
            text-align: center;
        }

        .quiz-section {
            background: rgba(25, 25, 40, 0.9);
            border: 2px solid rgba(100, 100, 150, 0.3);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .quiz-question {
            margin-bottom: 2rem;
        }

        .quiz-options {
            display: grid;
            gap: 1rem;
            margin-top: 1rem;
        }

        .quiz-option {
            background: rgba(40, 40, 60, 0.7);
            padding: 1rem;
            border-radius: 10px;
            border: 2px solid rgba(100, 100, 150, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: rgba(138, 43, 226, 0.6);
            transform: translateX(5px);
        }

        .quiz-option.correct {
            background: rgba(76, 175, 80, 0.3);
            border-color: #4caf50;
        }

        .quiz-option.incorrect {
            background: rgba(231, 76, 60, 0.3);
            border-color: #e74c3c;
        }

        .quiz-feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 10px;
        }

        .quiz-feedback.correct {
            background: rgba(76, 175, 80, 0.2);
            color: #81c784;
        }

        .quiz-feedback.incorrect {
            background: rgba(231, 76, 60, 0.2);
            color: #e57373;
        }

                .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            gap: 1rem;
        }

        .btn-nav {
            text-decoration: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            color: white;
            font-weight: bold;
            text-align: center;
            flex: 1;
        }

        .btn-nav:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }

        .btn-nav-orange {
            background: linear-gradient(135deg, #ff9800, #f57c00);
        }

        .btn-nav-orange:hover {
            background: linear-gradient(135deg, #ffa726, #ff6f00);
        }

        .btn-nav-green {
            background: linear-gradient(135deg, #4caf50, #388e3c);
        }

        .btn-nav-green:hover {
            background: linear-gradient(135deg, #66bb6a, #2e7d32);
        }

        .btn-nav-blue {
            background: linear-gradient(135deg, #2196f3, #1976d2);
        }

        .btn-nav-blue:hover {
            background: linear-gradient(135deg, #42a5f5, #1565c0);
        }

        .score-display {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.5);
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            margin: 2rem 0;
            font-size: 1.3rem;
        }
    </style>
    <link rel="stylesheet" href="animated-background.css">
    <script src="animated-background.js" defer></script>
</head>
<body>
    <div class="container">
        <span class="level-badge level-expert">Niveau Expert</span>
        <h1>ìÇÄ D√©cret de Canope</h1>
        <p class="subtitle">St√®le de Canope, Canope (Aboukir), Delta</p>

        <div style="display: flex; justify-content: space-between; margin: 3rem 0;"><a href="hieroglyphes-immersion-expert-textes_pyramides_pepi_i.html" style="background: linear-gradient(135deg, #9b59b6, #8e44ad); color: white; padding: 1rem 2rem; border-radius: 25px; text-decoration: none; font-size: 1.1rem;">‚Üê Pr√©c√©dent</a><a href="immersion-inscriptions-index.html" style="background: rgba(100, 100, 150, 0.3); color: white; padding: 1rem 2rem; border-radius: 25px; text-decoration: none; font-size: 1.1rem;">üìö Index</a><a href="hieroglyphes-immersion-expert-papyrus_ebers_medecine.html" style="background: linear-gradient(135deg, #9b59b6, #8e44ad); color: white; padding: 1rem 2rem; border-radius: 25px; text-decoration: none; font-size: 1.1rem;">Suivant ‚Üí</a></div>

        <div class="monument-card">
            <div class="context-box">
                <strong>üìç Contexte historique :</strong><br>
                <strong>Monument :</strong> St√®le de Canope<br>
                <strong>Lieu :</strong> Canope (Aboukir), Delta<br>
                <strong>√âpoque :</strong> √âpoque ptol√©ma√Øque (238 av. J.-C.)<br>
                <strong>Description :</strong> D√©cret royal trilingue (comme la pierre de Rosette)
            </div>

            <div class="inscription-display">
                <h2 style="text-align: center; margin-bottom: 2rem;">üìú Inscription originale</h2>

                <div class="hieroglyphic-text">
                    ìÇûìèèìÄÄ ìàñ ìä™ìèèìè§ ìèèìè§ìèèìè§ìÖ±ìÉ≠ìêùìä™
                </div>

                <button class="btn" onclick="toggleTranslation()">
                    R√©v√©ler/Cacher la traduction mot √† mot
                </button>

                <div id="translation-detail" class="hidden">
                    <h3 style="margin-top: 2rem; margin-bottom: 1rem;">D√©composition mot √† mot :</h3>
                    <div class="word-by-word">

                    <div class="word-block">
                        <div class="word-hieroglyph">ìÇûìèèìÄÄ</div>
                        <div class="word-pronunciation">üó£Ô∏è ou-djet</div>
                        <div class="word-transliteration">w·∏èt</div>
                        <div class="word-translation">d√©cret, ordre</div>
                        <div class="word-explanation">Nom f√©minin - document officiel</div>
                    </div>

                    <div class="word-block">
                        <div class="word-hieroglyph">ìàñ</div>
                        <div class="word-pronunciation">üó£Ô∏è en</div>
                        <div class="word-transliteration">n</div>
                        <div class="word-translation">de</div>
                        <div class="word-explanation">G√©nitif</div>
                    </div>

                    <div class="word-block">
                        <div class="word-hieroglyph">ìä™ìèèìè§</div>
                        <div class="word-pronunciation">üó£Ô∏è p√®t</div>
                        <div class="word-transliteration">pt</div>
                        <div class="word-translation">Ptol√©m√©e</div>
                        <div class="word-explanation">Nom du roi grec √©crit phon√©tiquement</div>
                    </div>

                    <div class="word-block">
                        <div class="word-hieroglyph">ìèèìè§ìèèìè§ìÖ±ìÉ≠ìêùìä™</div>
                        <div class="word-pronunciation">üó£Ô∏è tri-gou-tros</div>
                        <div class="word-transliteration">Trygwtr·∫És</div>
                        <div class="word-translation">Trypho...</div>
                        <div class="word-explanation">Titre ou √©pith√®te grecque transcrite</div>
                    </div>

                    </div>

                    <div class="translation-box">
                        <div class="translation-title">üìñ Traduction litt√©rale :</div>
                        <p style="font-size: 1.2rem; margin-bottom: 1rem;">D√©cret de Ptol√©m√©e...</p>

                        <div class="translation-title">‚ú® Traduction fluide :</div>
                        <p style="font-size: 1.3rem; font-weight: bold;">D√©cret du roi Ptol√©m√©e III √âverg√®te</p>
                    </div>

                    <div class="hint-box">
                        üìö <strong>Grammaire :</strong> Nom + G√©nitif + Nom propre √©tranger + Titulature mixte
                    </div>

                    <div class="hint-box">
                        üèõÔ∏è <strong>Contexte culturel :</strong><br>Le D√©cret de Canope (238 av. J.-C.) est trilingue comme la pierre de Rosette. Il montre la fusion gr√©co-√©gyptienne sous les Ptol√©m√©es.
                    </div>
                </div>
            </div>

            <div class="exercise-box">
                <h3>‚úçÔ∏è Exercice pratique</h3>
                <p style="margin: 1rem 0;">Comparez avec la pierre de Rosette : similarit√©s et diff√©rences.</p>
                <button class="btn" onclick="completeExercise()">
                    J'ai termin√© mon exercice (30 points)
                </button>
            </div>

            <div class="quiz-section">
                <h2 style="margin-bottom: 2rem;">üß† Quiz de compr√©hension</h2>

                <div class="quiz-question" id="quiz-0">
                    <h4>Question 1 :</h4>
                    <p>En combien de langues est √©crit le D√©cret de Canope ?</p>
                    <div class="quiz-options">

                    <div class="quiz-option" data-index="0" onclick="checkAnswer('decret_canope', 0, 0, 2)">
                        1
                    </div>

                    <div class="quiz-option" data-index="1" onclick="checkAnswer('decret_canope', 0, 1, 2)">
                        2
                    </div>

                    <div class="quiz-option" data-index="2" onclick="checkAnswer('decret_canope', 0, 2, 2)">
                        3 (hi√©roglyphes, d√©motique, grec)
                    </div>

                    <div class="quiz-option" data-index="3" onclick="checkAnswer('decret_canope', 0, 3, 2)">
                        4
                    </div>

                    </div>
                    <div class="quiz-feedback" id="feedback-0" style="display: none;"></div>
                </div>

                <div class="quiz-question" id="quiz-1">
                    <h4>Question 2 :</h4>
                    <p>Qui √©taient les Ptol√©m√©es ?</p>
                    <div class="quiz-options">

                    <div class="quiz-option" data-index="0" onclick="checkAnswer('decret_canope', 1, 0, 1)">
                        Pharaons √©gyptiens
                    </div>

                    <div class="quiz-option" data-index="1" onclick="checkAnswer('decret_canope', 1, 1, 1)">
                        Rois grecs d'√âgypte
                    </div>

                    <div class="quiz-option" data-index="2" onclick="checkAnswer('decret_canope', 1, 2, 1)">
                        Pr√™tres
                    </div>

                    <div class="quiz-option" data-index="3" onclick="checkAnswer('decret_canope', 1, 3, 1)">
                        Nobles
                    </div>

                    </div>
                    <div class="quiz-feedback" id="feedback-1" style="display: none;"></div>
                </div>

                <div class="score-display" id="quiz-score" style="display: none;">
                    Score : <span id="score-value">0</span> / 2
                </div>
            </div>
        </div>

        <div class="navigation">
            <a href="<a href="hieroglyphes-expert.html" class="btn-nav btn-nav-orange">‚¨ÖÔ∏è Retour au cours</a>" class="btn-nav btn-nav-orange">‚¨ÖÔ∏è Retour au cours</a>
            <a href="progression-dashboard.html" class="btn-nav btn-nav-green">üìä Voir ma progression</a>
            <a href="index_COMPLET.html" class="btn-nav btn-nav-blue">üè† Accueil</a>
        </div>
    </div>

    <script>
        let quizAnswered = {};
        let correctAnswers = 0;
        let exerciseCompleted = false;

        function toggleTranslation() {
            const detail = document.getElementById('translation-detail');
            detail.classList.toggle('hidden');
        }

        function checkAnswer(inscriptionId, questionIndex, selectedIndex, correctIndex) {
            if (quizAnswered[questionIndex]) return; // D√©j√† r√©pondu

            const options = document.querySelectorAll(`#quiz-${questionIndex} .quiz-option`);
            const feedback = document.getElementById(`feedback-${questionIndex}`);
            const explanation = ["Comme la pierre de Rosette : hi\u00e9roglyphes + d\u00e9motique + grec ancien", "Dynastie grecque mac\u00e9donienne qui r\u00e9gna sur l'\u00c9gypte apr\u00e8s Alexandre (305-30 av. J.-C.)"];

            quizAnswered[questionIndex] = true;

            if (selectedIndex === correctIndex) {
                options[selectedIndex].classList.add('correct');
                feedback.className = 'quiz-feedback correct';
                feedback.textContent = '‚úÖ Correct ! ' + explanation[questionIndex];
                correctAnswers++;
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[correctIndex].classList.add('correct');
                feedback.className = 'quiz-feedback incorrect';
                feedback.textContent = '‚ùå Incorrect. La bonne r√©ponse √©tait : ' + options[correctIndex].textContent + '. ' + explanation[questionIndex];
            }

            feedback.style.display = 'block';

            // D√©sactiver tous les boutons de cette question
            options.forEach(opt => opt.style.pointerEvents = 'none');

            // Afficher le score si toutes les questions sont r√©pondues
            if (Object.keys(quizAnswered).length === 2) {
                const scoreDisplay = document.getElementById('quiz-score');
                const scoreValue = document.getElementById('score-value');
                scoreValue.textContent = correctAnswers;
                scoreDisplay.style.display = 'block';

                // Calculer le score en pourcentage
                const percentage = Math.round((correctAnswers / 2) * 100);

                // Sauvegarder dans le syst√®me de progression
                if (typeof ProgressionSystem !== 'undefined') {
                    ProgressionSystem.sauvegarderResultat(
                        'hieroglyphes',
                        'expert',
                        'decret_canope',
                        percentage
                    );
                }

                // Afficher message
                if (percentage >= 80) {
                    alert('üéâ Excellent ! Vous avez obtenu ' + percentage + '% !');
                } else if (percentage >= 60) {
                    alert('üëç Bien jou√© ! Vous avez obtenu ' + percentage + '%. Continuez ainsi !');
                } else {
                    alert('üìö Vous avez obtenu ' + percentage + '%. Relisez le contenu et r√©essayez !');
                }
            }
        }

        function completeExercise() {
            if (exerciseCompleted) {
                alert('Vous avez d√©j√† valid√© cet exercice !');
                return;
            }

            exerciseCompleted = true;

            // Sauvegarder dans le syst√®me de progression
            if (typeof ProgressionSystem !== 'undefined') {
                ProgressionSystem.sauvegarderResultat(
                    'hieroglyphes',
                    'expert',
                    'decret_canope_exercice',
                    100 // Exercice de copie = 100% si compl√©t√©
                );
            }

            alert('‚úÖ Exercice valid√© ! Vous avez gagn√© 30 points !');
        }
    </script>

    <div style="display: flex; justify-content: space-between; margin: 3rem 0;"><a href="hieroglyphes-immersion-expert-textes_pyramides_pepi_i.html" style="background: linear-gradient(135deg, #9b59b6, #8e44ad); color: white; padding: 1rem 2rem; border-radius: 25px; text-decoration: none; font-size: 1.1rem;">‚Üê Pr√©c√©dent</a><a href="immersion-inscriptions-index.html" style="background: rgba(100, 100, 150, 0.3); color: white; padding: 1rem 2rem; border-radius: 25px; text-decoration: none; font-size: 1.1rem;">üìö Index</a><a href="hieroglyphes-immersion-expert-papyrus_ebers_medecine.html" style="background: linear-gradient(135deg, #9b59b6, #8e44ad); color: white; padding: 1rem 2rem; border-radius: 25px; text-decoration: none; font-size: 1.1rem;">Suivant ‚Üí</a></div>

</body>
</html>
