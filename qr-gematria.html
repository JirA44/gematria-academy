<!DOCTYPE html>
<html lang="fr" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code & Gematria - ◊ß◊ï◊ì QR ◊ï◊í◊ô◊û◊ò◊®◊ô◊î</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 40px;
        }

        @media (max-width: 968px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .panel h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
            font-size: 1.1em;
        }

        .input-group input,
        .input-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1.1em;
            transition: border-color 0.3s;
            font-family: 'David Libre', serif;
        }

        .input-group input:focus,
        .input-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .input-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
            margin-top: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        #qrcode {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
            min-height: 256px;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
        }

        #qrcode canvas,
        #qrcode img {
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .result-box {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border-right: 4px solid #667eea;
        }

        .result-box h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .gematria-result {
            font-size: 1.3em;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .gematria-result .label {
            font-weight: bold;
            color: #333;
        }

        .gematria-result .value {
            color: #667eea;
            font-weight: bold;
            font-size: 1.2em;
        }

        .download-btn {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            margin-top: 10px;
        }

        .clear-btn {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
            margin-top: 10px;
        }

        .hebrew-text {
            font-family: 'David Libre', serif;
            font-size: 1.5em;
            text-align: center;
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 2px solid #667eea;
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            padding: 20px 40px;
            background: #f8f9fa;
        }

        .nav-btn {
            flex: 1;
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: block;
            text-align: center;
        }

        .nav-btn:hover {
            background: #667eea;
            color: white;
        }

        .info-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
        }

        .info-box p {
            margin: 5px 0;
            color: #856404;
        }
    </style>
    <link rel="stylesheet" href="fix-contrast.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîÆ QR Code & Gematria üîÆ</h1>
            <p>◊ß◊ï◊ì QR ◊ï◊í◊ô◊û◊ò◊®◊ô◊î - G√©n√©rateur de QR Code avec Calculs de Gematria</p>
        </div>

        <div class="nav-buttons">
            <a href="index.html" class="nav-btn">üè† Accueil</a>
            <a href="calculateur-gematria.html" class="nav-btn">üî¢ Calculateur</a>
            <a href="alphabet-hebreu.html" class="nav-btn">◊ê H√©breu</a>
            <a href="alphabet-runes.html" class="nav-btn">·ö† Runes</a>
        </div>

        <div class="main-content">
            <!-- Panneau QR Code -->
            <div class="panel">
                <h2>üì± G√©n√©rateur QR Code</h2>

                <div class="input-group">
                    <label for="textInput">Texte √† encoder :</label>
                    <textarea id="textInput" placeholder="Entrez votre texte en h√©breu, fran√ßais ou autre..."></textarea>
                </div>

                <button class="btn" onclick="generateQR()">G√©n√©rer QR Code</button>

                <div id="qrcode"></div>

                <button class="btn download-btn" onclick="downloadQR()" id="downloadBtn" style="display: none;">
                    üì• T√©l√©charger QR Code
                </button>

                <button class="btn clear-btn" onclick="clearQR()">
                    üóëÔ∏è Effacer
                </button>

                <div class="info-box">
                    <p><strong>üí° Astuce :</strong></p>
                    <p>Scannez le QR code avec votre smartphone</p>
                    <p>pour afficher le texte instantan√©ment!</p>
                </div>
            </div>

            <!-- Panneau Gematria -->
            <div class="panel">
                <h2>üî¢ Calcul Gematria</h2>

                <div class="input-group">
                    <label for="hebrewInput">Texte h√©breu :</label>
                    <input type="text" id="hebrewInput" placeholder="◊î◊õ◊†◊° ◊ò◊ß◊°◊ò ◊¢◊ë◊®◊ô" dir="rtl">
                </div>

                <button class="btn" onclick="calculateGematria()">Calculer Gematria</button>

                <div id="gematriaResults"></div>

                <div class="result-box" style="margin-top: 20px;">
                    <h3>üìä Valeurs Gematria</h3>
                    <p style="margin-bottom: 10px; color: #666;">
                        La gematria est une m√©thode d'interpr√©tation bas√©e sur les valeurs num√©riques des lettres h√©bra√Øques.
                    </p>

                    <div class="gematria-result">
                        <span class="label">Gematria Standard :</span>
                        <span class="value" id="standardValue">-</span>
                    </div>

                    <div class="gematria-result">
                        <span class="label">Gematria Ordinale :</span>
                        <span class="value" id="ordinalValue">-</span>
                    </div>

                    <div class="gematria-result">
                        <span class="label">Gematria Petite :</span>
                        <span class="value" id="smallValue">-</span>
                    </div>
                </div>

                <div class="info-box">
                    <p><strong>‚ÑπÔ∏è Information :</strong></p>
                    <p>Chaque lettre h√©bra√Øque poss√®de</p>
                    <p>une valeur num√©rique unique</p>
                </div>
            </div>
        </div>

        <!-- Panneau combin√© -->
        <div style="padding: 0 40px 40px 40px;">
            <div class="panel">
                <h2>üéØ QR Code avec Gematria</h2>

                <div class="input-group">
                    <label for="combinedInput">Texte h√©breu pour QR + Gematria :</label>
                    <textarea id="combinedInput" placeholder="◊î◊õ◊†◊° ◊ò◊ß◊°◊ò ◊¢◊ë◊®◊ô" dir="rtl"></textarea>
                </div>

                <button class="btn" onclick="generateCombined()">
                    ‚ú® G√©n√©rer QR Code + Calculer Gematria
                </button>

                <div id="combinedQR" style="display: flex; justify-content: center; margin: 20px 0; min-height: 256px; background: #f8f9fa; border-radius: 10px; padding: 20px;"></div>

                <div id="combinedGematria"></div>
            </div>
        </div>
    </div>

    <script>
        // Table de correspondance Gematria standard
        const gematriaStandard = {
            '◊ê': 1, '◊ë': 2, '◊í': 3, '◊ì': 4, '◊î': 5, '◊ï': 6, '◊ñ': 7, '◊ó': 8, '◊ò': 9,
            '◊ô': 10, '◊õ': 20, '◊ö': 20, '◊ú': 30, '◊û': 40, '◊ù': 40, '◊†': 50, '◊ü': 50,
            '◊°': 60, '◊¢': 70, '◊§': 80, '◊£': 80, '◊¶': 90, '◊•': 90, '◊ß': 100, '◊®': 200,
            '◊©': 300, '◊™': 400
        };

        // Table ordinale (position dans l'alphabet)
        const gematriaOrdinal = {
            '◊ê': 1, '◊ë': 2, '◊í': 3, '◊ì': 4, '◊î': 5, '◊ï': 6, '◊ñ': 7, '◊ó': 8, '◊ò': 9,
            '◊ô': 10, '◊õ': 11, '◊ö': 11, '◊ú': 12, '◊û': 13, '◊ù': 13, '◊†': 14, '◊ü': 14,
            '◊°': 15, '◊¢': 16, '◊§': 17, '◊£': 17, '◊¶': 18, '◊•': 18, '◊ß': 19, '◊®': 20,
            '◊©': 21, '◊™': 22
        };

        // Table petite (r√©duction √† un chiffre)
        const gematriaSmall = {
            '◊ê': 1, '◊ë': 2, '◊í': 3, '◊ì': 4, '◊î': 5, '◊ï': 6, '◊ñ': 7, '◊ó': 8, '◊ò': 9,
            '◊ô': 1, '◊õ': 2, '◊ö': 2, '◊ú': 3, '◊û': 4, '◊ù': 4, '◊†': 5, '◊ü': 5,
            '◊°': 6, '◊¢': 7, '◊§': 8, '◊£': 8, '◊¶': 9, '◊•': 9, '◊ß': 1, '◊®': 2,
            '◊©': 3, '◊™': 4
        };

        let currentQR = null;
        let combinedQR = null;

        function generateQR() {
            const text = document.getElementById('textInput').value.trim();

            if (!text) {
                alert('Veuillez entrer du texte!');
                return;
            }

            // Clear previous QR
            document.getElementById('qrcode').innerHTML = '';

            // Generate new QR
            currentQR = new QRCode(document.getElementById('qrcode'), {
                text: text,
                width: 256,
                height: 256,
                colorDark: '#667eea',
                colorLight: '#ffffff',
                correctLevel: QRCode.CorrectLevel.H
            });

            document.getElementById('downloadBtn').style.display = 'block';
        }

        function downloadQR() {
            const canvas = document.querySelector('#qrcode canvas');
            if (canvas) {
                const link = document.createElement('a');
                link.download = 'qrcode.png';
                link.href = canvas.toDataURL();
                link.click();
            }
        }

        function clearQR() {
            document.getElementById('textInput').value = '';
            document.getElementById('qrcode').innerHTML = '';
            document.getElementById('downloadBtn').style.display = 'none';
            currentQR = null;
        }

        function calculateGematria() {
            const text = document.getElementById('hebrewInput').value.trim();

            if (!text) {
                alert('Veuillez entrer du texte h√©breu!');
                return;
            }

            let standard = 0;
            let ordinal = 0;
            let small = 0;

            for (let char of text) {
                if (gematriaStandard[char]) {
                    standard += gematriaStandard[char];
                    ordinal += gematriaOrdinal[char];
                    small += gematriaSmall[char];
                }
            }

            document.getElementById('standardValue').textContent = standard;
            document.getElementById('ordinalValue').textContent = ordinal;
            document.getElementById('smallValue').textContent = small;

            // Afficher le texte analys√©
            const resultsDiv = document.getElementById('gematriaResults');
            resultsDiv.innerHTML = `
                <div class="hebrew-text">${text}</div>
            `;
        }

        function generateCombined() {
            const text = document.getElementById('combinedInput').value.trim();

            if (!text) {
                alert('Veuillez entrer du texte h√©breu!');
                return;
            }

            // Generate QR Code
            document.getElementById('combinedQR').innerHTML = '';
            combinedQR = new QRCode(document.getElementById('combinedQR'), {
                text: text,
                width: 256,
                height: 256,
                colorDark: '#667eea',
                colorLight: '#ffffff',
                correctLevel: QRCode.CorrectLevel.H
            });

            // Calculate Gematria
            let standard = 0;
            let ordinal = 0;
            let small = 0;

            for (let char of text) {
                if (gematriaStandard[char]) {
                    standard += gematriaStandard[char];
                    ordinal += gematriaOrdinal[char];
                    small += gematriaSmall[char];
                }
            }

            // Display results
            const resultsDiv = document.getElementById('combinedGematria');
            resultsDiv.innerHTML = `
                <div class="result-box">
                    <h3>üìä R√©sultats pour : ${text}</h3>

                    <div class="gematria-result">
                        <span class="label">Gematria Standard :</span>
                        <span class="value">${standard}</span>
                    </div>

                    <div class="gematria-result">
                        <span class="label">Gematria Ordinale :</span>
                        <span class="value">${ordinal}</span>
                    </div>

                    <div class="gematria-result">
                        <span class="label">Gematria Petite :</span>
                        <span class="value">${small}</span>
                    </div>
                </div>
            `;
        }

        // Auto-calculate when typing in combined input
        document.getElementById('combinedInput').addEventListener('input', function() {
            if (this.value.trim()) {
                generateCombined();
            }
        });

        // Auto-calculate gematria when typing
        document.getElementById('hebrewInput').addEventListener('input', function() {
            if (this.value.trim()) {
                calculateGematria();
            }
        });
    </script>
</body>
</html>
