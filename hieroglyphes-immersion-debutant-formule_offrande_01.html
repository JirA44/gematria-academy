<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìÇÄ Formule d'offrande - Version simple</title>
    <link rel="stylesheet" href="force-dark-mode.css">
    <script src="progression-system.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 2rem;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            font-size: 1.1rem;
            margin-bottom: 2rem;
            opacity: 0.8;
        }

        .level-badge {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .level-debutant {
            background: rgba(76, 175, 80, 0.3);
            border: 2px solid #4caf50;
            color: #81c784;
        }

        .level-intermediaire {
            background: rgba(255, 152, 0, 0.3);
            border: 2px solid #ff9800;
            color: #ffb74d;
        }

        .level-expert {
            background: rgba(156, 39, 176, 0.3);
            border: 2px solid #9c27b0;
            color: #ce93d8;
        }

        .monument-card {
            background: rgba(25, 25, 40, 0.9);
            border: 2px solid rgba(100, 100, 150, 0.3);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .context-box {
            background: rgba(255, 243, 205, 0.1);
            border-left: 4px solid rgba(255, 193, 7, 0.7);
            padding: 1rem;
            margin-bottom: 2rem;
            border-radius: 5px;
        }

        .inscription-display {
            background: rgba(40, 40, 60, 0.7);
            padding: 2rem;
            border-radius: 10px;
            margin: 2rem 0;
            border: 2px solid rgba(196, 156, 98, 0.5);
        }

        .hieroglyphic-text {
            font-size: 3rem;
            text-align: center;
            margin: 2rem 0;
            line-height: 1.8;
            direction: rtl;
            letter-spacing: 0.5rem;
        }

        .word-by-word {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .word-block {
            background: rgba(30, 30, 45, 0.85);
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            border: 2px solid rgba(138, 43, 226, 0.3);
            transition: all 0.3s ease;
        }

        .word-block:hover {
            border-color: rgba(138, 43, 226, 0.6);
            transform: translateY(-5px);
        }

        .word-hieroglyph {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .word-pronunciation {
            font-size: 1.3rem;
            color: #ffa726;
            font-weight: bold;
            margin: 0.8rem 0;
            padding: 0.5rem;
            background: rgba(255, 167, 38, 0.1);
            border-radius: 5px;
        }

        .word-transliteration {
            font-size: 1.2rem;
            color: #64b5f6;
            margin: 0.5rem 0;
            font-style: italic;
        }

        .word-translation {
            font-size: 1.1rem;
            color: #81c784;
            font-weight: bold;
            margin: 0.5rem 0;
        }

        .word-explanation {
            font-size: 0.9rem;
            color: #b0b0c0;
            margin-top: 0.5rem;
        }

        .translation-box {
            background: rgba(76, 175, 80, 0.1);
            border: 2px solid rgba(76, 175, 80, 0.3);
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 2rem;
        }

        .translation-title {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: #81c784;
        }

        .btn {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            border-radius: 25px;
            cursor: pointer;
            margin: 0.5rem;
            transition: transform 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-3px);
        }

        .hidden {
            display: none;
        }

        .hint-box {
            background: rgba(100, 150, 255, 0.1);
            border-left: 4px solid rgba(100, 150, 255, 0.7);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 5px;
        }

        .exercise-box {
            background: rgba(138, 43, 226, 0.1);
            border: 2px dashed rgba(138, 43, 226, 0.5);
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
            text-align: center;
        }

        .quiz-section {
            background: rgba(25, 25, 40, 0.9);
            border: 2px solid rgba(100, 100, 150, 0.3);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .quiz-question {
            margin-bottom: 2rem;
        }

        .quiz-options {
            display: grid;
            gap: 1rem;
            margin-top: 1rem;
        }

        .quiz-option {
            background: rgba(40, 40, 60, 0.7);
            padding: 1rem;
            border-radius: 10px;
            border: 2px solid rgba(100, 100, 150, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: rgba(138, 43, 226, 0.6);
            transform: translateX(5px);
        }

        .quiz-option.correct {
            background: rgba(76, 175, 80, 0.3);
            border-color: #4caf50;
        }

        .quiz-option.incorrect {
            background: rgba(231, 76, 60, 0.3);
            border-color: #e74c3c;
        }

        .quiz-feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 10px;
        }

        .quiz-feedback.correct {
            background: rgba(76, 175, 80, 0.2);
            color: #81c784;
        }

        .quiz-feedback.incorrect {
            background: rgba(231, 76, 60, 0.2);
            color: #e57373;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
        }

        .btn-nav {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            text-decoration: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            transition: transform 0.3s ease;
        }

        .btn-nav:hover {
            transform: translateY(-3px);
        }

        .score-display {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.5);
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            margin: 2rem 0;
            font-size: 1.3rem;
        }
    </style>
    <link rel="stylesheet" href="animated-background.css">
    <script src="animated-background.js" defer></script>
</head>
<body>
    <div class="container">
        <span class="level-badge level-debutant">Niveau Debutant</span>
        <h1>ìÇÄ Formule d'offrande - Version simple</h1>
        <p class="subtitle">St√®le fun√©raire, N√©cropole de Saqqarah</p>

        <div style="display: flex; justify-content: space-between; margin: 3rem 0;"><a href="hieroglyphes-immersion-debutant-louxor_obelisque.html" style="background: linear-gradient(135deg, #9b59b6, #8e44ad); color: white; padding: 1rem 2rem; border-radius: 25px; text-decoration: none; font-size: 1.1rem;">‚Üê Pr√©c√©dent</a><a href="immersion-inscriptions-index.html" style="background: rgba(100, 100, 150, 0.3); color: white; padding: 1rem 2rem; border-radius: 25px; text-decoration: none; font-size: 1.1rem;">üìö Index</a><a href="hieroglyphes-immersion-debutant-nefertiti_cartouche.html" style="background: linear-gradient(135deg, #9b59b6, #8e44ad); color: white; padding: 1rem 2rem; border-radius: 25px; text-decoration: none; font-size: 1.1rem;">Suivant ‚Üí</a></div>

        <div class="monument-card">
            <div class="context-box">
                <strong>üìç Contexte historique :</strong><br>
                <strong>Monument :</strong> St√®le fun√©raire<br>
                <strong>Lieu :</strong> N√©cropole de Saqqarah<br>
                <strong>√âpoque :</strong> Moyen Empire (XIIe dynastie, vers 1900 av. J.-C.)<br>
                <strong>Description :</strong> La formule d'offrande fun√©raire la plus courante dans les tombes √©gyptiennes
            </div>

            <div class="inscription-display">
                <h2 style="text-align: center; margin-bottom: 2rem;">üìú Inscription originale</h2>

                <div class="hieroglyphic-text">
                    ìáììèèìäµ ìÇû ìä®ìèèìâê
                </div>

                <button class="btn" onclick="toggleTranslation()">
                    R√©v√©ler/Cacher la traduction mot √† mot
                </button>

                <div id="translation-detail" class="hidden">
                    <h3 style="margin-top: 2rem; margin-bottom: 1rem;">D√©composition mot √† mot :</h3>
                    <div class="word-by-word">

                    <div class="word-block">
                        <div class="word-hieroglyph">ìáììèèìäµ</div>
                        <div class="word-pronunciation">üó£Ô∏è htp-d·ªâ</div>
                        <div class="word-transliteration">·∏•tp-d·ªâ</div>
                        <div class="word-translation">offrande que donne</div>
                        <div class="word-explanation">Expression fig√©e signifiant 'offrande royale'</div>
                    </div>

                    <div class="word-block">
                        <div class="word-hieroglyph">ìÇû</div>
                        <div class="word-pronunciation">üó£Ô∏è ni-sou</div>
                        <div class="word-transliteration">nsw</div>
                        <div class="word-translation">le roi</div>
                        <div class="word-explanation">Le pharaon, source de toute offrande l√©gitime</div>
                    </div>

                    <div class="word-block">
                        <div class="word-hieroglyph">ìä®ìèèìâê</div>
                        <div class="word-pronunciation">üó£Ô∏è ou-sir</div>
                        <div class="word-transliteration">Wsir</div>
                        <div class="word-translation">Osiris</div>
                        <div class="word-explanation">Dieu des morts et de la r√©surrection</div>
                    </div>

                    </div>

                    <div class="translation-box">
                        <div class="translation-title">üìñ Traduction litt√©rale :</div>
                        <p style="font-size: 1.2rem; margin-bottom: 1rem;">Offrande-que-donne roi Osiris</p>

                        <div class="translation-title">‚ú® Traduction fluide :</div>
                        <p style="font-size: 1.3rem; font-weight: bold;">Offrande que donne le roi √† Osiris</p>
                    </div>

                    <div class="hint-box">
                        üìö <strong>Grammaire :</strong> Construction passive avec sujet invers√© (roi donne √† Osiris pour le d√©funt)
                    </div>

                    <div class="hint-box">
                        üèõÔ∏è <strong>Contexte culturel :</strong><br>Cette formule appara√Æt sur presque toutes les st√®les fun√©raires. Elle assure au d√©funt des offrandes √©ternelles via le roi et Osiris.<br><br><br><strong>R√©ponse √† 'Que signifie '·∏•tp-d·ªâ-nsw' ?' :</strong><br>Offrande que donne le roi. Cette expression fig√©e signifie 'offrande que donne le roi' et introduit toutes les formules fun√©raires<br><br><strong>R√©ponse √† 'Pourquoi le roi donne-t-il des offrandes √† Osiris ?' :</strong><br>Pour que le d√©funt re√ßoive des provisions. Le roi fait des offrandes √† Osiris qui les redistribue au d√©funt, assurant sa survie √©ternelle
                    </div>
                </div>
            </div>

            <div class="exercise-box">
                <h3>‚úçÔ∏è Exercice pratique</h3>
                <p style="margin: 1rem 0;">Recopiez cette formule qui est la base de toutes les inscriptions fun√©raires √©gyptiennes.</p>
                <button class="btn" onclick="completeExercise()">
                    J'ai termin√© mon exercice (10 points)
                </button>
            </div>

            
            <div style="background: rgba(255, 193, 7, 0.15); border: 3px solid rgba(255, 193, 7, 0.8); border-radius: 15px; padding: 2rem; margin: 2rem 0;">
                <h2 style="color: #ffc107; margin-bottom: 1.5rem; text-align: center;">üìñ Vocabulaire √† apprendre</h2>

                <div style="display: grid; gap: 1.5rem;">

                    <!-- Vocabulaire principal -->
                    <div style="background: rgba(30, 30, 45, 0.6); padding: 1.5rem; border-radius: 10px; border-left: 5px solid #4caf50;">
                        <div style="text-align: center; font-size: 3rem; margin-bottom: 1rem;">ìáììèèìäµ ìÇû ìä®ìèèìâê</div>
                        <h3 style="color: #81c784; margin-bottom: 1rem; text-align: center;">
                            <strong style="font-size: 1.8rem;">offrande que donne</strong>
                        </h3>

                        <p style="font-size: 1.2rem; line-height: 1.8; text-align: center;">
                            üó£Ô∏è Prononciation : <strong style="color: #81c784;">htp-d·ªâ</strong>
                        </p>

                        <p style="margin-top: 1rem; font-size: 1.1rem; text-align: center;">
                            Expression fig√©e signifiant 'offrande royale'
                        </p>

                    </div>

                    <!-- Info 1: Que signifie '·∏•tp-d·ªâ-nsw' ?... -->
                    <div style="background: rgba(30, 30, 45, 0.6); padding: 1.5rem; border-radius: 10px; border-left: 5px solid #ba68c8;">
                        <h3 style="color: #ba68c8; margin-bottom: 1rem; text-align: center;">Que signifie '·∏•tp-d·ªâ-nsw' ?</h3>
                        <p style="font-size: 1.2rem; line-height: 1.8; text-align: center;">
                            <strong style="color: #ba68c8; font-size: 1.4rem;">Offrande que donne le roi</strong>
                        </p>
                    </div>

                    <!-- Info 2: Pourquoi le roi donne-t-il des... -->
                    <div style="background: rgba(30, 30, 45, 0.6); padding: 1.5rem; border-radius: 10px; border-left: 5px solid #4fc3f7;">
                        <h3 style="color: #4fc3f7; margin-bottom: 1rem; text-align: center;">Pourquoi le roi donne-t-il des offrandes √† Osiris ?</h3>
                        <p style="font-size: 1.2rem; line-height: 1.8; text-align: center;">
                            <strong style="color: #4fc3f7; font-size: 1.4rem;">Pour que le d√©funt re√ßoive des provisions</strong>
                        </p>
                    </div>

                    <!-- Info 3: Sur quel type de monument trou... -->
                    <div style="background: rgba(30, 30, 45, 0.6); padding: 1.5rem; border-radius: 10px; border-left: 5px solid #ff9800;">
                        <h3 style="color: #ff9800; margin-bottom: 1rem; text-align: center;">Sur quel type de monument trouve-t-on cette formule ?</h3>
                        <p style="font-size: 1.2rem; line-height: 1.8; text-align: center;">
                            <strong style="color: #ff9800; font-size: 1.4rem;">Toutes les st√®les fun√©raires</strong>
                        </p>
                    </div>

                </div>
            </div>
<div class="quiz-section">
                <h2 style="margin-bottom: 2rem;">üß† Quiz de compr√©hension</h2>

                <div class="quiz-question" id="quiz-0">
                    <h4>Question 1 :</h4>
                    <p>Que signifie '·∏•tp-d·ªâ-nsw' ?</p>
                    <div class="quiz-options">

                    <div class="quiz-option" data-index="0" onclick="checkAnswer('formule_offrande_01', 0, 0, 1)">
                        Le roi est mort
                    </div>

                    <div class="quiz-option" data-index="1" onclick="checkAnswer('formule_offrande_01', 0, 1, 1)">
                        Offrande que donne le roi
                    </div>

                    <div class="quiz-option" data-index="2" onclick="checkAnswer('formule_offrande_01', 0, 2, 1)">
                        Temple du roi
                    </div>

                    <div class="quiz-option" data-index="3" onclick="checkAnswer('formule_offrande_01', 0, 3, 1)">
                        Pyramide royale
                    </div>

                    </div>
                    <div class="quiz-feedback" id="feedback-0" style="display: none;"></div>
                </div>

                <div class="quiz-question" id="quiz-1">
                    <h4>Question 2 :</h4>
                    <p>Pourquoi le roi donne-t-il des offrandes √† Osiris ?</p>
                    <div class="quiz-options">

                    <div class="quiz-option" data-index="0" onclick="checkAnswer('formule_offrande_01', 1, 0, 1)">
                        Pour honorer Osiris
                    </div>

                    <div class="quiz-option" data-index="1" onclick="checkAnswer('formule_offrande_01', 1, 1, 1)">
                        Pour que le d√©funt re√ßoive des provisions
                    </div>

                    <div class="quiz-option" data-index="2" onclick="checkAnswer('formule_offrande_01', 1, 2, 1)">
                        Pour construire un temple
                    </div>

                    <div class="quiz-option" data-index="3" onclick="checkAnswer('formule_offrande_01', 1, 3, 1)">
                        Pour gagner une bataille
                    </div>

                    </div>
                    <div class="quiz-feedback" id="feedback-1" style="display: none;"></div>
                </div>

                <div class="quiz-question" id="quiz-2">
                    <h4>Question 3 :</h4>
                    <p>Sur quel type de monument trouve-t-on cette formule ?</p>
                    <div class="quiz-options">

                    <div class="quiz-option" data-index="0" onclick="checkAnswer('formule_offrande_01', 2, 0, 1)">
                        Pyramides seulement
                    </div>

                    <div class="quiz-option" data-index="1" onclick="checkAnswer('formule_offrande_01', 2, 1, 1)">
                        Toutes les st√®les fun√©raires
                    </div>

                    <div class="quiz-option" data-index="2" onclick="checkAnswer('formule_offrande_01', 2, 2, 1)">
                        Temples de dieux
                    </div>

                    <div class="quiz-option" data-index="3" onclick="checkAnswer('formule_offrande_01', 2, 3, 1)">
                        Palais royaux
                    </div>

                    </div>
                    <div class="quiz-feedback" id="feedback-2" style="display: none;"></div>
                </div>

                <div class="score-display" id="quiz-score" style="display: none;">
                    Score : <span id="score-value">0</span> / 3
                </div>
            </div>
        </div>

        <div class="navigation">
            <a href="hieroglyphes-debutant.html" class="btn-nav">‚¨ÖÔ∏è Retour au cours</a>
            <a href="progression-dashboard.html" class="btn-nav">üìä Voir ma progression</a>
            <a href="index_COMPLET.html" class="btn-nav">üè† Accueil</a>
        </div>
    </div>

    <script>
        let quizAnswered = {};
        let correctAnswers = 0;
        let exerciseCompleted = false;

        function toggleTranslation() {
            const detail = document.getElementById('translation-detail');
            detail.classList.toggle('hidden');
        }

        function checkAnswer(inscriptionId, questionIndex, selectedIndex, correctIndex) {
            if (quizAnswered[questionIndex]) return; // D√©j√† r√©pondu

            const options = document.querySelectorAll(`#quiz-${questionIndex} .quiz-option`);
            const feedback = document.getElementById(`feedback-${questionIndex}`);
            const explanation = ["Cette expression fig\u00e9e signifie 'offrande que donne le roi' et introduit toutes les formules fun\u00e9raires", "Le roi fait des offrandes \u00e0 Osiris qui les redistribue au d\u00e9funt, assurant sa survie \u00e9ternelle", "Cette formule appara\u00eet sur presque toutes les st\u00e8les fun\u00e9raires \u00e9gyptiennes, du simple au plus \u00e9labor\u00e9"];

            quizAnswered[questionIndex] = true;

            if (selectedIndex === correctIndex) {
                options[selectedIndex].classList.add('correct');
                feedback.className = 'quiz-feedback correct';
                feedback.textContent = '‚úÖ Correct ! ' + explanation[questionIndex];
                correctAnswers++;
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[correctIndex].classList.add('correct');
                feedback.className = 'quiz-feedback incorrect';
                feedback.textContent = '‚ùå Incorrect. La bonne r√©ponse √©tait : ' + options[correctIndex].textContent + '. ' + explanation[questionIndex];
            }

            feedback.style.display = 'block';

            // D√©sactiver tous les boutons de cette question
            options.forEach(opt => opt.style.pointerEvents = 'none');

            // Afficher le score si toutes les questions sont r√©pondues
            if (Object.keys(quizAnswered).length === 3) {
                const scoreDisplay = document.getElementById('quiz-score');
                const scoreValue = document.getElementById('score-value');
                scoreValue.textContent = correctAnswers;
                scoreDisplay.style.display = 'block';

                // Calculer le score en pourcentage
                const percentage = Math.round((correctAnswers / 3) * 100);

                // Sauvegarder dans le syst√®me de progression
                if (typeof ProgressionSystem !== 'undefined') {
                    ProgressionSystem.sauvegarderResultat(
                        'hieroglyphes',
                        'debutant',
                        'formule_offrande_01',
                        percentage
                    );
                }

                // Afficher message
                if (percentage >= 80) {
                    alert('üéâ Excellent ! Vous avez obtenu ' + percentage + '% !');
                } else if (percentage >= 60) {
                    alert('üëç Bien jou√© ! Vous avez obtenu ' + percentage + '%. Continuez ainsi !');
                } else {
                    alert('üìö Vous avez obtenu ' + percentage + '%. Relisez le contenu et r√©essayez !');
                }
            }
        }

        function completeExercise() {
            if (exerciseCompleted) {
                alert('Vous avez d√©j√† valid√© cet exercice !');
                return;
            }

            exerciseCompleted = true;

            // Sauvegarder dans le syst√®me de progression
            if (typeof ProgressionSystem !== 'undefined') {
                ProgressionSystem.sauvegarderResultat(
                    'hieroglyphes',
                    'debutant',
                    'formule_offrande_01_exercice',
                    100 // Exercice de copie = 100% si compl√©t√©
                );
            }

            alert('‚úÖ Exercice valid√© ! Vous avez gagn√© 10 points !');
        }
    </script>

    <div style="display: flex; justify-content: space-between; margin: 3rem 0;"><a href="hieroglyphes-immersion-debutant-louxor_obelisque.html" style="background: linear-gradient(135deg, #9b59b6, #8e44ad); color: white; padding: 1rem 2rem; border-radius: 25px; text-decoration: none; font-size: 1.1rem;">‚Üê Pr√©c√©dent</a><a href="immersion-inscriptions-index.html" style="background: rgba(100, 100, 150, 0.3); color: white; padding: 1rem 2rem; border-radius: 25px; text-decoration: none; font-size: 1.1rem;">üìö Index</a><a href="hieroglyphes-immersion-debutant-nefertiti_cartouche.html" style="background: linear-gradient(135deg, #9b59b6, #8e44ad); color: white; padding: 1rem 2rem; border-radius: 25px; text-decoration: none; font-size: 1.1rem;">Suivant ‚Üí</a></div>

</body>
</html>
